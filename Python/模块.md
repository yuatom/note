# 模块
一个.py文件就称之为一个模块（Module）。避免同名的模块冲突，Python通过目录来组织管理模块，成为包（Package）。
一个名为demo.py的文件就是一个名为demo的模块。如果自己编写的demo.py与其他人的模块名字冲突，可以通过创建包来管理：
mypackage           # 文件夹
--__init__.py       # 文件
--demo.py           # 文件
>* 每一个包下都有一个`__init__.py`文件，通过这个文件Python把mypackage文件夹当做一个包；
>* 在`mypackage`包下`demo`模块名为`mypackage.demo`

##使用模块

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

# 模块的文档注释，任何模块代码的第一个字符串都被视为模块的文档注释；
' a test module '

# 使用__author__变量把作者写进去
__author__ = 'Michael Liao'

# 导入模块
import sys

def test():
    args = sys.argv # 使用导入的模块中的变量
    if len(args)==1:
            print('Hello, world!')
    elif len(args)==2:
        print('Hello, %s!' % args[1])
    else:
        print('Too many arguments!')

if __name__=='__main__':
    test()
```

###sys.argv
sys模块中的argv变量是一个以list存储命令行参数的变量，该list至少有一个元素，为该py文件的名字。

```shell
python3 hello.py    # argv = ['hello.py']
python3 hello.py Michael    # argv  = ['hello.php','Michael']
```

###__name__
一个.py文件（模块）中的`__name__`取值有以下两种情况：
>* 当该模块是被其他模块引入时，取值为该模块的名字；
>* 如果模块是被直接执行，那么取值为`__main__`

以下代码的作用是只有是该模块是被直接执行的情况下才调用test()。

```python
if __name__=='__main__':
    test()
```

##作用域

>* 正常的变量名或函数名为公开的（public），可以在模块外部使用；
>* 以下划线`_`开头的变量或函数为私有的（private），不能在外部直接引用，如：_abc、__xyz；
>* 以两个下划线`__`开头并`结尾`的变量可以直接引用，但是有特殊用途，如：__author__，__name__，__doc__（模块的文档注释也可以通过定义这个变量）；

##安装第三方模块
###安装

```shell
➜  ~ pip3 install Pillow
Collecting Pillow
  Downloading http://pypi.v2ex.com/packages/cp35/P/Pillow/Pillow-3.1.1-cp35-cp35m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl (2.9MB)
    100% |████████████████████████████████| 2.9MB 35kB/s
Installing collected packages: Pillow
Successfully installed Pillow-3.1.1
```

###使用

```python
>>> from PIL import Image
>>> im = Image.open('test.png')
>>> print(im.format, im.size, im.mode)
PNG (400, 300) RGB
>>> im.thumbnail((200, 100))
>>> im.save('thumb.jpg', 'JPEG')
```

###模块搜索路径
默认情况下，import模块会在当前目录、所有已安装的内置模块和第三方模块。当在以上目录找不到要引入的模块时，会报错：

```python
>>> import mymodule
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ImportError: No module named mymodule
```
搜索路径保存在sys模块的path变量中：

```python
>>> import sys
>>> sys.path
['', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python34.zip', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/plat-darwin', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/lib-dynload', '/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages']
```

可将要添加的模块路径添加到`sys.path`中，但运行结束后就失效：

```python
>>> import sys
>>> sys.path.append('/Users/michael/my_py_scripts')
```

可通过设置环境变量PYTHONPATH来改变路径


