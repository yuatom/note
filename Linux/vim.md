#vim

## 1.一般模式

### 1.1.光标移动
* h，左
* l，右
* j，上
* k，下
* 0，行首
* $，行尾
* H，当前屏幕的第一行
* L，当前屏幕的最后一行
* M，当前屏幕中间一行
* G，最后一行
* gg，第一行
* nG，光标移到第n行
* w，将光标右移至下一个单词的词首
* W，将光标右移至下一个单词的词首
* e，如果光标在单词内，则移到单词尾，如果在单词尾，则移到下一个单词的词尾
* E，如果光标在单词内，则移到单词尾，如果在单词尾，则移到下一个单词的词尾
* b，如果光标在单词内，则移到单词首，如果在单词尾，则移到上一个单词的词首
* B，如果光标在单词内，则移到单词首，如果在单词尾，则移到上一个单词的词首
* n<space>，光标向右移动n个字符
* :n，光标移到文件的n行
* :$，光标移到文件的最后一行
* Ctrl+F，向下翻页
* Ctrl+B，向上翻页
* Ctrl+D，向下翻半页
& Ctrl+U，向上翻半页
* Ctrl+G，显示正在编辑的文件名、是否修改过、当前行号、文件的行数以及光标之前的行占整个文件的百分比
*

### 1.2.进入插入模式

* i，insert，在光标所在位置前插入文本；
* I，会先把光标移动到行首；
* a，append，在光标所在位置之后追加文本；
* A，会先把光标移动到行尾；
* o，open，在光标所在行的下面新开一行，并将光标至于该行行首；
* O，在光标所在行上面插入一行，并将光标置于行首；
* r，replace，取代光标所在的字符一次，会先删除当前光标的字符，然后开始插入；
* R，一直取代光标所在的字符，直到ESC，会先删除当前光标的字符，然后每输入一个字符，替换当前的光标所在的字符，并光标后移；

### 1.2.文本编辑
#### 1.2.1.删除及移动
* x，删除光标处的字符，nx，从光标开始向右删除n个字符；
* X，删除光标前面的那个字符，nX，从光标前面那个字符开始向左删除n个字符；
* dd，删除当前行；
* ndd，删除当前行以及其后n-1行的内容；
* d1G，删除当前行到第一行的数据；
* dG，删除当前行到最后一行的数据；
* D/d$，删除从光标所在处开始到行尾的内容；
* d0，删除从光标前一个字符开始到行首的内容；
* dw，删除一个单词，如果光标处于某个词的中间，则从光标所在位置开始删至词尾，ndw表示删除n个单词；

#### 1.2.2.文本复制及粘贴
* yy，复制光标所在的整行；
* nyy，复制当前行及其后n-1行；
* y1G，复制当前行到第一行的数据；
* yG，复制当前行到最后一行的数据；
* y0，复制光标所在位置到行首的数据；
* y$，复制光标所在位置到行尾的数据；
* p，粘贴到下一行，np重复粘贴n次；
* P，粘贴到上一行；
* J，将光标所在行和下一行合并；

#### 1.2.3.恢复/重做/重复
* u，undo，撤销上一个命令；
* U，只恢复一次；
* Ctrl+r，重做上一个动作
* .，重复上一个命令

###1.3.文本搜索
* /，向下搜索，n为下一个，N为上一个；
* ?，向上搜索，n为下一个，N为上一个；



## 2.命令行模式
在一般模式中，输入分号进入命令行模式

* :w，保存；
* :q，退出；
* :q!，强制退出；
* :wq，保存后退出；
* :x，相当于:wq；
* ZZ，如果文件没有变动，则不保存然后退出，如果有变动，则保存后退出；
* :w [filename]，将内容保存到filename中；
* :m,n w [filename]，将m到n行保存到filename中；
* :r [filename]，将filename的内容加到光标所在行的后面；
* :s/text1/text2，将光标所在段落第一个text1替换为text2；
* :s/text1/text2/g，将光标所在段落所有text1替换为text2；
* :m,ns/text1/txt2/g，将m到n行中所有的text1替换text2；
* :m,n copy k，将m到n行复制到k行；
* :m,ndd，删除m到n行；

###配置
* :set nu
* :set nonu
* :set hlsearch
* :set nohlsearch
* :syntax on
* :syntax off
* :set autoindent
* :set noautoindent


## 3.视图模式
在一般模式中，输入`v`或`V`进入视图模式

* v，进行字符选择；
* V，进行行选择；
* Ctrl+v，使用长方形的方式选择；
* y，复制所选数据；
* d，删除所选数据；
* p，将复制的区块，粘贴在光标所在处；

## 4.多文件编辑
使用`vim file1 file2...`可以打开多个文件

* :n，编辑下一个文件；
* :N，编辑上一个文件；
* :files，列出目前这个vim打开的所有文件；

## 5.多窗口功能

* :sp [filename]，打开一个新窗口，如果有filename，则在新窗口打开该文件；
* Ctrl+w+j，将光标移到下方的窗口；
* Ctrl+w+k，将光标移到上方的窗口；
* Ctrl+w+q，离开光标所在窗口，相当于:q；

## 6.挑字补全

* Ctrl+x -> Ctrl+n，通过正在编辑的文件内容作为关键字，予以补齐；
* Ctrl+x -> Ctrl+o，通过vim内置的关键字，予以补齐；
* Ctrl+x -> Ctrl+f，通过当前目录内的文件名作为关键字，予以补齐；

## 6.配置文件
* ~/.vimrc，保存vim配置的文件；
* ~/.viminfo，记录vim编辑时的配置操作的文件；

## 7.操作冲突处理
打开时发现有其他人正在编辑该文件，如果你只是要查看内容而不修改，可以选择打开为只读（O），如果要修改，需要和其他编辑人员沟通；

因为不知名的原因导致上次编辑中断，如果之前的vim处理动作尚未储存，此时应该恢复（R），恢复之后继续编辑，编辑完成后要删除swp文件；

如果确定暂存文件是没用的，可以删除（D）

























































































