# 支付流程
##微信扫码支付
###模式一
1、在商户后台调用`微信生成支付接口`生成支付二维码，需要带上产品标识；
2、用户扫码；
3、微信支付系统将产品标识和用户openid回调`商户支付回调API`；
4、商户后台生成支付交易，调用`微信统一下单API`生成预支付交易；
5、微信支付系统在微信端对用户发起交易；
6、用户确认支付（需要在两个小时内）；
7、微信客户端通知用户支付结果，微信后台通知商户后台支付结果。

###模式二
1、商户后台调用`微信统一下单API`生成预支付交易，将接口返回的链接生成二维码；
2、用户扫码支付（需要在两个小时内）；
3、微信客户端通知用户支付结果，微信后台通知商户后台支付结果。

`微信统一下单API`必要参数：
公众号ID
商户号
商品描述
商户订单号
总金额
支付结果通知URL
交易类型
签名（公共）
随机字符串（公共）


##支付宝扫码支付
1、调`支付宝预交易创建接口`生成二维码；
2、用户扫码支付

`支付宝预交易创建接口`必要参数：
商户订单号
收款方支付宝用户ID
金额
订单标题
开发者应用ID
接口名称
编码类型
签名类型
签名
时间
版本




