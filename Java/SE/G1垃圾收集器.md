# G1垃圾收集器

![G1堆内存空间分配](http://colobu.com/2015/04/14/G1-Getting-Started/02_2_G1HeapAllocation_CN.png)
堆内存被划分为多个分别独立heap区，每个heap区都是逻辑上连续的一堆内存。每个区域有可能被当成旧收集器中相同的角色，即有可能是eden、survivor、old中的一种。但是每一种的个数都不是固定。

全局标记阶段(global marking phase)**并发执行**，确定内存中哪些对象是存活的。标记阶段完成，能知道哪些heap区的empty空间最大，会优先处理这些区域来得到大量的自由空间。
将适合回收的heap区使用转移(evacuation)的方式进行垃圾回收，该阶段在多核CPU上是并行进行。在这个过程同时压缩和释放内存。






